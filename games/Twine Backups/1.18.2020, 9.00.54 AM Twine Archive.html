<tw-storydata name="DISASTER DORM" startnode="9" creator="Twine" creator-version="2.3.5" ifid="E56DAF8F-24AB-4D87-AB53-79312B6E6A3B" zoom="1" format="SugarCube" format-version="2.30.0" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">@import url('https://fonts.googleapis.com/css?family=Lora|Quicksand:700&display=swap');

@font-face {
    font-family: 'Silver';
    src: url('https://gabrielcornish.github.io/resources/Silver.woff2 ') format('woff2'),
        url('https://gabrielcornish.github.io/resources/Silver.woff ') format('woff');
    font-weight: 500;
    font-style: normal;
}

body {
	/* This affects the entire page color: #7c3f58;*/
	background-color: #000;
	color: #fff;	
	font-family: 'Silver', 'Lora', serif;
  	cursor: url("https://i.imgur.com/9H48GaI.png"), auto;
  	font-smooth: never;
  	width: 50em;
  	margin: 2em auto;
}

@keyframes animatedBackground {
  	0% {
    	background-position: 0 0;
	}
	100% {
    	background-position: -2304px -2304px;
	}
}

img{
	width: 512px;
  	
}

.map{
	border: 10px solid #382d3b;
  	border-radius: 5px;
  	margin-top: 2em;
}

legend{
  font-family: 'Silver', 'Quicksand', sans-serif;
  background-color: #000;
  border: 5px solid #f176a6;
  border-radius: 5px;
  padding: 0px 40px;
  padding-top: 10px;
}

fieldset {
  display: grid;
  grid-column-gap: 1em;
  grid-template-columns: auto 4fr;
  grid-template-rows: 1fr;
  grid-template-areas: "avatar-image speech-bubble";
  border: 5px solid #f176a6;
  border-radius: 10px;
  background-color: #000;
  color: #fff;
}

.passage {
	/* This only affects passages */
	font-size: 46px;
	margin: 10 auto;
	max-width: 40em;
  	line-height: 1.2;
}

.passage a{
	color: #eb6b6f;
}

.avatar-image { 
  width: 128px; 
  border-radius: 50%;
}

#ui-bar{
  display:none;
  width: 30em;
  border-right: 5px solid #eb6b6f;
  background: url("https://i.imgur.com/AQGpA2G.png");
  background-attachment: scroll;
  	background-position: 0px 0px;
	background-repeat: repeat;
  	-webkit-animation: animatedBackground 120s linear infinite;
  	-moz-animation: animatedBackground 120s linear infinite;
}

#ui-bar-tray{
	display: none;
}

#story-title, h1{
	font-family: 'Silver','Quicksand', sans-serif;
  	color: #7c3f58;
  	font-size: 3em;
  	background-color: #fff6d3;
  	border: 5px solid #7c3f58;
  	border-radius: 5px;
  	padding: 0px 5px;
}

#menu{
	display: none;
  	
}</style><script role="script" id="twine-user-script" type="text/twine-javascript">State.variables.stack = []
State.variables.diag_done = false;

window.loadStory = function(p) {
	State.variables.stack = []
	State.variables.diag_done = false;
	
	let raw = Story.get(p).text.trim().split(/(?:\r?\n){2,}/);
	
  for (let i = 0; i < raw.length; i++) {
    let text = raw[i].split(/\r?\n/);

    let speaker = "";

    if (text[0].startsWith(">")) {
      speaker = text[0].substring(1).trim();
      text.splice(0,1);
    }

    for (let j = 0; j < text.length; j++) {
      let obj = {speaker: speaker, text: text[j]};
      State.variables.stack = [...State.variables.stack, obj];
    }
  }
}

//prints text onto screen from stack
window.advanceStory = function() {
  if (State.variables.stack.length === 0){ 
		/*dialogue tree end events not currently implemented, but they'd probably go in here*/ 
		State.variables.diag_done = true;
		return; }
  let load = State.variables.stack[0];

  //replaces the current bubble
  $.wiki(`<<nobr>><<append ".speech-container" t8n>>
            <<speech "${load.speaker}">>
              ${load.text}
            <</speech>><br>
          <</append>><</nobr>>`
        );
  State.variables.stack.shift(0,1);
}

//takes in the 'speech' text, and optionally, the speaker name. If no speaker is supplied, it's displayed as a thought or internal monologue
setup.speech = function(text="", speaker="") {
	//exits the function if there is no 'speech' data
	if (text === "") {return "";}

  let legend = "";
	let thought = "thought";

	//decides whether it's a internal monologue, or external dialogue
	if (speaker) {
		legend = `<legend>${speaker}</legend>`;
		thought = "";
	}

	let output = `<div class="speech"><fieldset>${legend}`;
	output += `<<include "${speaker}">>`
	output += `<span class="speech-bubble ${thought}">`;
	output += text;
	output += `</span></fieldset></div>`;

	return output;
}

Macro.add('speech', {
	tags     : null,
	handler  : function () {
		let text = this.payload[0].contents.trim();
		if (text === "") {return;}
		let speaker = (this.args.length > 0) ? this.args[0] : "";

		let output = setup.speech(text, speaker);

		$(this.output).wiki(output);
	}
});

console.log(State.variables.stack);


Macro.add('scrolldown', {
	handler : function () {
		var target   = document.scrollingElement || 'html,body';
		var duration;

		if (this.args.length > 0) {
			switch (this.args[0]) {
			case 'fast':
			case 'slow':
				duration = this.args[0];
				break;
			default:
				try {
					duration = Math.max(Engine.minDomActionDelay, Util.fromCssTime(this.args[0]));
				}
				catch (ex) {
					return this.error(ex.message);
				}
				break;
			}
		}
		else {
			duration = 'slow';
		}

		setTimeout(function () {
			$(target).animate({
				scrollTop: $(document).height() - $(window).height()
			}, duration);
		}, Engine.minDomActionDelay);
	}
});

</script><tw-tag name="UI" color="red"></tw-tag>,<tw-tag name="character" color="purple"></tw-tag>,<tw-tag name="choice" color="green"></tw-tag>,<tw-tag name="data" color="red"></tw-tag>,<tw-tag name="dialogue" color="yellow"></tw-tag>,<tw-tag name="not-fun" color="orange"></tw-tag>,<tw-tag name="widget" color="red"></tw-tag><tw-passagedata pid="1" name="Template" tags="data" position="44,394" size="100,100">&lt;&lt;BeginDialogue &quot;diag&quot;&gt;&gt;&lt;&lt;repeat 1s&gt;&gt;&lt;&lt;if $diag_done == true&gt;&gt;

&lt;&lt;stop&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;/repeat&gt;&gt;&lt;&lt;nobr&gt;&gt;&lt;&lt;silently&gt;&gt;&lt;&lt;/silently&gt;&gt;&lt;&lt;/nobr&gt;&gt;

&lt;img class=&quot;avatar-image&quot; src=&quot;https://i.imgur.com/xQABWzs.png&quot;&gt;
&lt;img class=&quot;avatar-image&quot; src=&quot;https://i.imgur.com/Jskg3Qg.png&quot;&gt;</tw-passagedata><tw-passagedata pid="2" name="diag_1" tags="dialogue" position="781,49" size="100,100">It&#39;s late afternoon and your cleaning your college dorm room with your roommates Zag and Gina.

&gt;GINA
This is dumb. The dorm&#39;s not even that messy...

&gt;ZAG
Can you throw your robotics project in the hall closet? It&#39;s creepy looking.

&gt;ZAG
And is this your Sashimi under the couch?

&gt;GINA
What&#39;s the point of all this cleaning? I mean, you know he&#39;s just bluffing.

&gt;ZAG
Do you really want to risk it?

&gt;GINA
Kinda...yeah. When has he ever actually done an inspection?

&gt;ZAG
He might this time.

&gt;GINA
You&#39;re more paranoid than when you worked on that AI project last semester.

&gt;ZAG
Oh am I!? Is it SO crazy to want to keep living here? 

&gt;ZAG
After the R.A. inspects the dorm tomorrow- 

&gt;GINA
IF!!! IF the R.A. inspects the dorm tomorrow.

&gt;ZAG
You&#39;ll be able to go right back to the life of filth you love so much.

&gt;GINA
That&#39;s not a promise you can keep.

&gt;GINA
And what about the video game tournament?

&gt;ZAG
What about it?

&gt;GINA
How are we supposed to compete in it if we&#39;re too busy scraping pizza sauce off the carpet!?

ZAG drops his broom and takes a step towards GINA.

&gt;ZAG
It sounds like pizza sauce shouldn&#39;t be on the carpet in the first place.

GINA grits her teeth, steps closer and narrows her eyes. Her face is now inches from his.

&gt;GINA
Don&#39;t. Blame. The. Pizza. Sauce.

GINA and ZAG suddenly turn to face you.

&gt;ZAG
You&#39;re the tie breaker, PLAYER...

&gt;GINA
Yeah, PLAYER, what should we do?</tw-passagedata><tw-passagedata pid="3" name="Click Widget" tags="widget" position="43,40" size="100,100">&lt;&lt;widget &quot;proceed&quot;&gt;&gt;
&lt;&lt;script&gt;&gt;
$(document).on(&quot;mousedown&quot;, function (event) {
	advanceStory()
	$.wiki(&#39;&lt;&lt;scrolldown&gt;&gt;&#39;);
});
&lt;&lt;/script&gt;&gt;
&lt;&lt;scrolldown&gt;&gt;
&lt;&lt;/widget&gt;&gt;</tw-passagedata><tw-passagedata pid="4" name="Begin Dialogue Widgeth" tags="widget" position="43,154" size="100,100">&lt;&lt;nobr&gt;&gt;&lt;&lt;widget &quot;BeginDialogue&quot;&gt;&gt;
&lt;&lt;run loadStory($args[0])&gt;&gt;
&lt;&lt;timed 5ms&gt;&gt;&lt;&lt;run advanceStory()&gt;&gt;&lt;&lt;/timed&gt;&gt;
&lt;div class=&quot;speech-container&quot;&gt;
&lt;/div&gt;
&lt;&lt;/widget&gt;&gt;&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="5" name="CHUCK" tags="character" position="200,31" size="100,100">&lt;img class=&quot;avatar-image&quot; src=&quot;https://i.imgur.com/KBbkfTO.gif&quot;&gt;</tw-passagedata><tw-passagedata pid="6" name="SARAH" tags="character" position="326,29" size="100,100">&lt;img class=&quot;avatar-image&quot; src=&quot;https://i.imgur.com/bqBJaf9.png&quot;&gt;</tw-passagedata><tw-passagedata pid="7" name="" tags="character" position="450,29" size="100,100"></tw-passagedata><tw-passagedata pid="8" name="StoryCaption" tags="UI" position="43,274" size="100,100">&lt;img src=&quot;https://i.imgur.com/VWcSwWm.png&quot;&gt;
&lt;img class=&quot;map&quot; src=&quot;https://i.imgur.com/CxKapWX.png&quot;&gt;
</tw-passagedata><tw-passagedata pid="9" name="Beginning" tags="choice" position="936,53" size="100,100">&lt;&lt;BeginDialogue &quot;diag_1&quot;&gt;&gt;&lt;&lt;repeat 1s&gt;&gt;&lt;&lt;if $diag_done == true&gt;&gt;
* [[Clean the dorm before the RA inspection.|2]]
* [[Focus on the tournament. The RA is probably bluffing again.|3]]
&lt;&lt;stop&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;/repeat&gt;&gt;&lt;&lt;nobr&gt;&gt;


&lt;&lt;proceed&gt;&gt;
&lt;&lt;silently&gt;&gt;You&#39;re a student cleaning the Dorm with your roomies.&lt;&lt;/silently&gt;&gt;&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="10" name="ZAG" tags="character" position="337,144" size="100,100">&lt;img class=&quot;avatar-image&quot; src=&quot;https://i.imgur.com/Jskg3Qg.png&quot;&gt;</tw-passagedata><tw-passagedata pid="11" name="GINA" tags="character" position="195,153" size="100,100">&lt;img class=&quot;avatar-image&quot; src=&quot;https://i.imgur.com/KBbkfTO.gif&quot;&gt;</tw-passagedata><tw-passagedata pid="12" name="OUTLINE" tags="" position="1476,85" size="100,100">THEME: Dorms

Cozy Dorm w/ Roomies Lazy
Chaotic Dorm w/ Roomies Lazy
Chaotic Dorm w/ Roomies Proactive
Cozy Dorm w/ Roomies Proactive

I&#39;m in my cozy dorm being lazy with my roommates. 

Roomie accidently creates an AI robot that turns the dorm room into a chaotic mess, but no one wants to deal with it. 

The chaos gets worse as the Robot runs loose on the campus and now everyone needs to be proactive. 

We manage to shut down the robot and return the dorm back to it&#39;s cozy state with a promise that that will never happen again.

---

YOU: I&#39;m a roommate cleaning the Dorm with my other flatmates.
NEED: To avoid cleaning the dorm so we can play in our video game tournament.

GO: We do something we&#39;ve never done before and create an AI robot to be our maid. It&#39;s slapped together quickly.
SEARCH: The AI needs to be taught how to clean and leave us alone while we game. So that&#39;s what we do.

FIND: We get to play games undisturbed and win our tournament.
TAKE: However the robot goes nuts and absolutely trashes the dorm.

RETURN: We manage to shut down the robot and return to cleaning the Dorm by hand.
CHANGE: We make a vow to be a bit more proactive with our responsibilities.


</tw-passagedata><tw-passagedata pid="13" name="2" tags="" position="806,206" size="100,100">&lt;&lt;BeginDialogue &quot;diag_3&quot;&gt;&gt;&lt;&lt;repeat 1s&gt;&gt;&lt;&lt;if $diag_done == true&gt;&gt;
* [[&quot;Why don&#39;t we recruit someone to help us clean?&quot;|4]]
&lt;&lt;stop&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;/repeat&gt;&gt;&lt;&lt;nobr&gt;&gt;&lt;&lt;silently&gt;&gt;You clean the dorm the best you can, however it&#39;s so messy that you barely make a dent.&lt;&lt;/silently&gt;&gt;&lt;&lt;/nobr&gt;&gt;</tw-passagedata><tw-passagedata pid="14" name="3" tags="" position="1068,197" size="100,100">&lt;&lt;BeginDialogue &quot;diag_2&quot;&gt;&gt;&lt;&lt;repeat 1s&gt;&gt;&lt;&lt;if $diag_done == true&gt;&gt;* [[&quot;Why don&#39;t we just find someone to clean for us? That way we can focus on practicing for the tournament.&quot;|4]]
&lt;&lt;stop&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;/repeat&gt;&gt;&lt;&lt;nobr&gt;&gt;&lt;&lt;silently&gt;&gt;You avoid cleaning, however the backed up dishes clog the drain and flood the kitchen.&lt;&lt;/silently&gt;&gt;&lt;&lt;/nobr&gt;&gt;

</tw-passagedata><tw-passagedata pid="15" name="4" tags="choice" position="929,358" size="100,100">&lt;&lt;BeginDialogue &quot;diag_4&quot;&gt;&gt;&lt;&lt;repeat 1s&gt;&gt;&lt;&lt;if $diag_done == true&gt;&gt;
* [[&quot;We&#39;re in over our heads. We should ask Chuck and Sarah to help clean the dorm.&quot;|5]]
* [[&quot;Let&#39;s find another way that doesn&#39;t involve Zag&#39;s love life.&quot;|6]]
&lt;&lt;stop&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;/repeat&gt;&gt;&lt;&lt;nobr&gt;&gt;&lt;&lt;silently&gt;&gt;NEED: To find someone to clean the dorm so we can play in our video game tournament.&lt;&lt;/silently&gt;&gt;&lt;&lt;/nobr&gt;&gt;

</tw-passagedata><tw-passagedata pid="16" name="5" tags="" position="784,508" size="100,100">&lt;&lt;BeginDialogue &quot;diag_5&quot;&gt;&gt;&lt;&lt;repeat 1s&gt;&gt;&lt;&lt;if $diag_done == true&gt;&gt;
[[&quot;UGH! I wish we had a Robot Maid that just did everything for us&quot;.|7]]
&lt;&lt;stop&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;/repeat&gt;&gt;&lt;&lt;nobr&gt;&gt;&lt;&lt;silently&gt;&gt;You choose to ask your neighbors for help, but when they arrive they see your dorm as a lost cause.&lt;&lt;/silently&gt;&gt;&lt;&lt;/nobr&gt;&gt;

</tw-passagedata><tw-passagedata pid="17" name="6" tags="" position="1063,505" size="100,100">&lt;&lt;BeginDialogue &quot;diag_6&quot;&gt;&gt;&lt;&lt;repeat 1s&gt;&gt;&lt;&lt;if $diag_done == true&gt;&gt;
[[&quot;UGH! I wish we had a Robot Maid that just did everything for us&quot;.|7]]
&lt;&lt;stop&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;/repeat&gt;&gt;&lt;&lt;nobr&gt;&gt;&lt;&lt;silently&gt;&gt;You choose not to ask your neighbor, therefor the desperation increases and you find out you risk being kicked out of the dorms.&lt;&lt;/silently&gt;&gt;&lt;&lt;/nobr&gt;&gt;

</tw-passagedata><tw-passagedata pid="18" name="7" tags="choice" position="926,649" size="100,100">&lt;&lt;BeginDialogue &quot;diag_7&quot;&gt;&gt;&lt;&lt;repeat 1s&gt;&gt;&lt;&lt;if $diag_done == true&gt;&gt;
[[&quot;Let&#39;s create the AI Robot to be independent.&quot;|8]]
[[&quot;Let&#39;s make the AI Robot to be single-minded.&quot;|9]]
&lt;&lt;stop&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;/repeat&gt;&gt;&lt;&lt;nobr&gt;&gt;&lt;&lt;silently&gt;&gt;GO: We do something we&#39;ve never done before and create an AI robot to be our maid. It&#39;s slapped together quickly.&lt;&lt;/silently&gt;&gt;&lt;&lt;/nobr&gt;&gt;

</tw-passagedata><tw-passagedata pid="19" name="8" tags="" position="792,807" size="100,100">&lt;&lt;BeginDialogue &quot;diag_8&quot;&gt;&gt;&lt;&lt;repeat 1s&gt;&gt;&lt;&lt;if $diag_done == true&gt;&gt;
[[&quot;Well, It&#39;s a start.&quot;|10]]
&lt;&lt;stop&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;/repeat&gt;&gt;&lt;&lt;nobr&gt;&gt;&lt;&lt;silently&gt;&gt;You choose to make the AI Robot independent, but it&#39;s too independent and is making wrong assumptions about what you want without asking.&lt;&lt;/silently&gt;&gt;&lt;&lt;/nobr&gt;&gt;


</tw-passagedata><tw-passagedata pid="20" name="9" tags="" position="1032,808" size="100,100">&lt;&lt;BeginDialogue &quot;diag_9&quot;&gt;&gt;&lt;&lt;repeat 1s&gt;&gt;&lt;&lt;if $diag_done == true&gt;&gt;
[[&quot;Well, at least it&#39;s a start.&quot;|10]]
&lt;&lt;stop&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;/repeat&gt;&gt;&lt;&lt;nobr&gt;&gt;&lt;&lt;silently&gt;&gt;You choose to make the AI Robot single-minded, However it&#39;s constantly asking how it can serve you best. It&#39;s annoying.
&lt;&lt;/silently&gt;&gt;&lt;&lt;/nobr&gt;&gt;
</tw-passagedata><tw-passagedata pid="21" name="10" tags="choice" position="921,960" size="100,100">&lt;&lt;BeginDialogue &quot;diag_10&quot;&gt;&gt;&lt;&lt;repeat 1s&gt;&gt;&lt;&lt;if $diag_done == true&gt;&gt;
* [[&quot;Let&#39;s skip warmups to monitor the MACHINE MAID so that we know it&#39;s functioning properly.&quot;|11]]
* [[&quot;We need to warm up if we want to have a shot at winning the tournament.&quot;|12]]
&lt;&lt;stop&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;/repeat&gt;&gt;&lt;&lt;nobr&gt;&gt;&lt;&lt;silently&gt;&gt;SEARCH: The AI needs to be taught how to clean and leave us alone while we game. So that&#39;s what we do.
&lt;&lt;/silently&gt;&gt;&lt;&lt;/nobr&gt;&gt;
</tw-passagedata><tw-passagedata pid="22" name="11" tags="" position="751,1107" size="100,100">&lt;&lt;BeginDialogue &quot;diag_11&quot;&gt;&gt;&lt;&lt;repeat 1s&gt;&gt;&lt;&lt;if $diag_done == true&gt;&gt;
[[13]]
&lt;&lt;stop&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;/repeat&gt;&gt;&lt;&lt;nobr&gt;&gt;&lt;&lt;silently&gt;&gt;You monitor the AI, however you don&#39;t get the extra practice for the tournament. However, you do notice a few minor bugs.
&lt;&lt;/silently&gt;&gt;&lt;&lt;/nobr&gt;&gt;
</tw-passagedata><tw-passagedata pid="23" name="12" tags="" position="1070,1115" size="100,100">&lt;&lt;BeginDialogue &quot;diag&quot;&gt;&gt;&lt;&lt;repeat 1s&gt;&gt;&lt;&lt;if $diag_done == true&gt;&gt;
[[13]]
&lt;&lt;stop&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;/repeat&gt;&gt;&lt;&lt;nobr&gt;&gt;&lt;&lt;silently&gt;&gt;You choose to not monitor the AI Robot, therefor you get extra practice in the game tournament.&lt;&lt;/silently&gt;&gt;&lt;&lt;/nobr&gt;&gt;
</tw-passagedata><tw-passagedata pid="24" name="13" tags="choice" position="917,1262" size="100,100">&lt;&lt;BeginDialogue &quot;diag_13&quot;&gt;&gt;&lt;&lt;repeat 1s&gt;&gt;&lt;&lt;if $diag_done == true&gt;&gt;
[[Need to do a live post-game interview so that you can please your fans.|14]]
[[Need to not do a live interview so that you can talk to an agent that wants to sign your team.|15]]
&lt;&lt;stop&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;&lt;/repeat&gt;&gt;&lt;&lt;nobr&gt;&gt;&lt;&lt;silently&gt;&gt;FIND: We get to play games undisturbed and win our tournament.&lt;&lt;/silently&gt;&gt;&lt;&lt;/nobr&gt;&gt;



&lt;&lt;proceed&gt;&gt;</tw-passagedata><tw-passagedata pid="25" name="14" tags="" position="798,1410" size="100,100">You choose to do the live interview, therefor the whole world sees the chaos of your dorm.

[[16]]</tw-passagedata><tw-passagedata pid="26" name="15" tags="" position="1017,1415" size="100,100">You choose to answer the agents call, however you discover it&#39;s not the agent, but the AI robot becoming sentient.

[[16]]</tw-passagedata><tw-passagedata pid="27" name="16" tags="choice" position="897,1561" size="100,100">TAKE: However the robot goes nuts and absolutely trashes the dorm.

[[You need to keep the RA from find out so that you don&#39;t get in trouble.|17]]
[[You need to let the RA know so that they can help with the robot.|18]]</tw-passagedata><tw-passagedata pid="28" name="17" tags="" position="783,1705" size="100,100">You choose to keep the RA from finding out, therefor the AI Robot has more room to cause a disaster.

[[19]]</tw-passagedata><tw-passagedata pid="29" name="18" tags="" position="1008,1706" size="100,100">You choose to recruit the RA&#39;s help, therefor he instead ends up being captured by the AI Robot and locked in the bathroom.

[[19]]</tw-passagedata><tw-passagedata pid="30" name="19" tags="choice" position="903,1856" size="100,100">RETURN: We manage to shut down the robot and return to cleaning the Dorm by hand.

[[You need to clean your dorm first so that you can pass the inspection.|20]]
[[You need to clean your dorm second so that you can fix the hole in the wall to your crushes dorm.|21]]</tw-passagedata><tw-passagedata pid="31" name="20" tags="" position="775,2006" size="100,100">You choose to clean your dorm first, therefor you pass your inspection. However your neighbors are furious with you.
[[22]]</tw-passagedata><tw-passagedata pid="32" name="21" tags="" position="1025,2007" size="100,100">You choose to help your neighbors first, therefor your crush gives you a kiss on the cheek. However, you fail your inspection.

[[22]]</tw-passagedata><tw-passagedata pid="33" name="22" tags="choice" position="897,2154" size="100,100">CHANGE: We make a vow to be a bit more proactive with our responsibilities.

[[You need to agree to the vow so that you can put your RA at ease.|23]]
[[You need to not make the vow so that you can build a better robot AI next time.|24]]</tw-passagedata><tw-passagedata pid="34" name="23" tags="" position="774,2304" size="100,100">You choose to take the vow and everyone lives happily ever after.</tw-passagedata><tw-passagedata pid="35" name="24" tags="" position="1022,2307" size="100,100">You don&#39;t take the vow and everything goes back to the way it was. The RA cries.</tw-passagedata><tw-passagedata pid="36" name="StoryInterface" tags="" position="41,527" size="100,100">&lt;div id=&quot;passages&quot;&gt;&lt;/div&gt;</tw-passagedata><tw-passagedata pid="37" name="diag_2" tags="dialogue" position="1214,200" size="100,100">ZAG throws his hands up in the air. GINA sticks her tongue out at him.

&gt;ZAG
Fine! But when we lose our dorm, I&#39;m going to be right there to tell say &quot;I told you so&quot;.

&gt;GINA
Blah.Blah.Blah-

ZAG suddenly gets a worried look on his face.

&gt;ZAG
Uhhh...why do my feet feel wet?

&gt;GINA
OH! Well, Ummm... don&#39;t look now, but... 

&gt;GINA
It&#39;s possible the kitchen sink may have just flooded the living room.

&gt;ZAG
AHHHHH!!!!

&gt;ZAG
GINA! You clogged the drain again didn&#39;t you!?

&gt;GINA
YOU HAVE NO PROOF IT WAS ME!

&gt;ZAG
We can&#39;t live like this-

You interject with an idea.

</tw-passagedata><tw-passagedata pid="38" name="diag_3" tags="dialogue" position="655,205" size="100,100">&gt;GINA
UGH! Fine. For once I&#39;d like to put video games before responsibilities. Is that too much to ask?

&gt;ZAG
The sooner we clean the dorm the sooner we can play in the tournament.

An hour passes as you, GINA and ZAG try to get the dorm into shape.

&gt;ZAG
This is taking forever...

&gt;GINA
I think we made it messier. We haven&#39;t even made a dent in cleaning this place.

&gt;ZAG
GINA&#39;s right- there&#39;s no way we&#39;ll get the dorm cleaned in time for the video game tournament. I doubt we can get it cleaned before the inspection tomorrow.

&gt;GINA
What should we do PLAYER?
</tw-passagedata><tw-passagedata pid="39" name="diag_4" tags="dialogue" position="804,353" size="100,100">&gt;ZAG
That could work...

&gt;GINA
Yeah, we just need to find someone to help us out.

&gt;ZAG
Who&#39;s crazy enough to want to clean this disaster of a dorm room? Especially while we sit around and play video games.

&gt;ZAG
I wouldn&#39;t want to be our maid.

&gt;GINA
True. True. What about Chuck and Sarah next door?

&gt;ZAG
NOPE! NO WAY!

&gt;GINA
Why not? Remember when we did that one thing for them... on that one day?

&gt;ZAG
...

&gt;GINA
Well, I say they owe us one! Let&#39;s just ask.

&gt;ZAG
I don&#39;t know. I don&#39;t think it&#39;s such a good idea-

&gt;GINA
HA! I knew it! You&#39;re so obvious!

&gt;ZAG
What!? Knew what?

&gt;GINA
You&#39;re totally crushing on Sarah! You don&#39;t want her to see the dorm cuz&#39; you&#39;re embarrassed of what she&#39;ll think.

&gt;ZAG
No... no... that&#39;s not it. It&#39;s just that- say something PLAYER! Isn&#39;t it a bad idea?


</tw-passagedata><tw-passagedata pid="40" name="diag_5" tags="dialogue" position="675,511" size="100,100">In dispair, ZAG puts his face in his hands. A huge smile flashes across GINA&#39;s face.

&gt;GINA
YES! This is gonna be so good. Don&#39;t worry Zag, I&#39;ll talk you up to Sarah.

&gt;ZAG
Please don&#39;t-

&gt;GINA
Be right back!

GINA leaves the dorm room to get CHUCK and SARAH.

&gt;ZAG
(Sigh) I need to find new friends.

GINA returns quickly with CHUCK and SARAH who cautiously enter the dorm.

&gt;GINA
Ok... Chuck. Sarah. You already know Zag and PLAYER.

Zag gives an awkward wave and sheepish smile.

&gt;GINA
So I know it looks bad-

&gt;CHUCK
Bad!? This place looks terrible! And remind me again of that favor you did for us? Because I don&#39;t recall any-

&gt;SARAH
Don&#39;t be rude Chuck. It&#39;s really not that... bad- uhh... 

&gt;SARAH
Why is there a bag of chips on the ceiling fan?

&gt;GINA
Ahh sweet! I was looking for those. See? You guys are already doing a great job. We just need you to... you know... make it inspection ready.

GINA flashes a hopeful smile.

&gt;CHUCK
Sorry, no can do. Not even magic could fix this place in time for the inspection. Good luck.

CHUCK and SARAH leave the room and walk back to their dorm.

&gt;ZAG
Well that went as terrible as I had imagined.

&gt;GINA
Now what do we do?</tw-passagedata><tw-passagedata pid="41" name="diag_6" tags="dialogue" position="1206,500" size="100,100">&gt;ZAG
Thank you! Thank you! Thank you!

&gt;GINA
Ok... so if we&#39;re not going to ask for help, what&#39;s next?

&gt;ZAG
This is a disaster. If the R.A. sees the dorm in it&#39;s current condition there&#39;s no way we&#39;re going be able to keep living on campus.

&gt;GINA
Hmmmm... so this might be our last night in this place? Wait! But I love our dorm! I don&#39;t want to leave.

&gt;ZAG
THAT&#39;S WHAT I&#39;VE BEEN TRYING TO SAY THIS WHOLE TIME!

&gt;GINA
You say a lot of things Zag! I can&#39;t be expected to listen to everything!

&gt;ZAG
So now what do we do!? We&#39;re going to be in so much trouble.</tw-passagedata><tw-passagedata pid="42" name="diag_7" tags="dialogue" position="1069,646" size="100,100">There&#39;s a moment of pause as you, GINA and ZAG all look at each other for a second.

&gt;ZAG
That&#39;s...

&gt;ZAG
Ridiculous.

&gt;GINA
Is it? I mean we&#39;ve done crazier things before, right? 

&gt;GINA
Zag can just plop his AI project from last semester into my robotics project from last year...

&gt;GINA
Then all we have to do is train the robot to be our maid. Should be easy.

&gt;ZAG
&quot;Plop my AI project into a robot&quot;?

&gt;ZAG
None of what just came out of your mouth is that simple or easy...

&gt;ZAG
Also it&#39;s not called AI. It&#39;s Machine Learning.

&gt;GINA
(YAWN) Whatever... you always over complicate things. I&#39;ll go get my robot from the closet. 

&gt;GINA
Be ready to plop your Learning Machine into its brain.

&gt;ZAG
Once again, it&#39;s called Machine Learning and everything you just said is not how any of this works-

Before you know it GINA has her robot in hand. 

You, GINA and ZAG spend the next hour arguing and piecing together a robot maid.

&gt;GINA
It&#39;s beautiful! I call it: MACHINE MAID!

&gt;ZAG
Gotta hand it to you, Gina... That was much easier than I thought. 

&gt;ZAG
I&#39;m actually uncomfortable with how easy that was.

&gt;MACHINE MAID
MACHINE MAID IS AT YOUR SERVICE. HOW DO I PLEASE YOU?

&gt;GINA
That&#39;s going to get annoying...

&gt;ZAG
The awkward phrasing?

&gt;GINA
No! All the questions it&#39;s going to ask. 

&gt;GINA
We should program it to be Single-Minded so that there&#39;s no question what it&#39;s designed to do.

&gt;ZAG
That&#39;s a terrible idea, Gina. Let&#39;s make it independent and curious so it&#39;ll improve itself over time.. 

&gt;GINA
UGH!! I don&#39;t even care! let&#39;s just pick one so we can get back to playing games. 

&gt;GINA
PLAYER, what do you think?


</tw-passagedata><tw-passagedata pid="43" name="MACHINE MAID" tags="" position="214,289" size="100,100">&lt;img class=&quot;avatar-image&quot; src=&quot;https://i.pinimg.com/originals/c6/74/c3/c674c3da47a2e94893970606d894b357.png&quot;&gt;</tw-passagedata><tw-passagedata pid="44" name="diag_8" tags="dialogue" position="651,810" size="100,100">ZAG updates the MACHINE MAID with a few lines of code.

&gt;ZAG
Done...MACHINE MAID should now be curious and independent.

&gt;GINA
Ok, let&#39;s see how it does.

The first thing the MACHINE MAID does is knock over a lamp in the living room.

&gt;ZAG
BAD! Bad MACHINE MAID!

&gt;MACHINE MAID
MACHINE MAID IS SORRY.

The MACHINE MAID immediately cleans up after its mess with extreme efficiency.

&gt;MACHINE MAID
UPDATE: I HAVE CORRECTED MY ERROR. I NOW KNOW NOT TO KNOCK OVER LAMPS.


</tw-passagedata><tw-passagedata pid="45" name="diag_9" tags="dialogue" position="1169,807" size="100,100">ZAG updates the MACHINE MAID with a few lines of code.

&gt;ZAG
Done. MACHINE MAID should now only focus on cleaning and fixing things that are out of place.

&gt;GINA
Ok, let&#39;s see how it does.

The MACHINE MAID walks over to GINA and starts trying to fix her hair.

&gt;GINA
Ahhh! Get it off of me!

ZAG tries to hide his laughter.

&gt;ZAG
I&#39;ll make a few modifications to MACHINE MAIDS logic...

&gt;MACHINE MAID
I WILL NO LONGER TRY TO FIX GINA&#39;s MESSY HAIR

GINA gives ZAG a mean glare.</tw-passagedata><tw-passagedata pid="46" name="diag_10" tags="dialogue" position="1046,961" size="100,100">&gt;GINA
Alright. Minus a few hiccups, I think MACHINE MAID version 1.0 is almost complete!

&gt;ZAG
What&#39;s left to do?

&gt;GINA
Only the most important thing!

&gt;GINA
Program it to leave us alone so we can play video games! 

&gt;GINA
I don&#39;t want MACHINE MADE to bug us everytime it&#39;s cleaned a dish or something.

ZAG updates MACHINE MAID with a few extra lines of code.

&gt;ZAG
Done! It won&#39;t bother us at all while we&#39;re playing in the video game tournament.

&gt;GINA
We should have thought about this a long time ago. We literally never have to clean our dorm again!

&gt;ZAG
I&#39;ll admit, I&#39;m excited to not see GINA&#39;s leaning tower of dishes ever again. But...

&gt;ZAG
Don&#39;t you think we should keep an eye on MACHINE MAID for a little while? Just to make sure it&#39;s working properly.

&gt;GINA
We don&#39;t have time. The tournament is about to start and we haven&#39;t even warmed up yet. 

&gt;GINA
Do you really want to go into the video game tournament unprepared? What do you think, PLAYER?</tw-passagedata><tw-passagedata pid="47" name="diag_12" tags="dialogue" position="1198,1117" size="100,100">&gt;GINA
YES!!! Finally, it&#39;s time to game!

You, GINA and ZAG huddle around the TV and pick up your controllers. 

To drown out the noise of the MACHINE MAID cleaning, you each put on headsets.

You spend time warming up for the tournament and going over your gameplan.

&gt;GINA
I feel good about this plan! Good think PLAYER.

&gt;ZAG
Alright, lets win this thing!</tw-passagedata><tw-passagedata pid="48" name="diag_11" tags="dialogue" position="637,1106" size="100,100">Some time passes as the three of you monitor the MACHINE MAID to make sure it&#39;s functioning properly.

&gt;GINA
Well, that was a waste of time. See!? The MACHINE MAID is running just fine.

&gt;ZAG
You have a strange definition of &quot;fine&quot;.

&gt;ZAG
It looks like it&#39;s struggling. Why does it spin in circles every time it picks something up?

&gt;GINA
I don&#39;t know! It&#39;s probably just taking in its surroundings.

&gt;ZAG
I don&#39;t know...

&gt;GINA
Stop worrying, it&#39;s just a minor glitch.

&gt;GINA
The tournament is about to start any second. We have to login like, now.</tw-passagedata><tw-passagedata pid="49" name="diag_13" tags="dialogue" position="1052,1264" size="100,100">Over the next few hours, you, GINA and ZAG play video games completely undisturbed. It&#39;s pure bliss!

The tournament competition is top notch. Unfortunately, you lose the first match of the tournament...

However, in the end, you rally as a team to come back and win the entire tournament.

&gt;GINA
THAT&#39;S WHAT I&#39;M TALKING ABOUT!

&gt;ZAG
GG! 

&gt;ZAG
Wow, our follower count is through the roof after that win...

&gt;GINA
That&#39;s &#39;cuz PLAYER was streaming the whole game!

&gt;ZAG
Way to go! Should we hop on the cam and do a post game interview with our viewers?

&gt;GINA
It would make our fans happy.</tw-passagedata><tw-passagedata pid="50" name="YOU" tags="" position="469,168" size="100,100">&lt;img class=&quot;avatar-image&quot; src=&quot;https://i.imgur.com/C1dMneT.png&quot;&gt;</tw-passagedata><tw-passagedata pid="51" name="MORGAN" tags="character" position="264,481" size="100,100">&lt;img class=&quot;avatar-image&quot; src=&quot;https://i.imgur.com/LobEvf5.gif&quot;&gt;</tw-passagedata><tw-passagedata pid="52" name="Marketing" tags="t8n-typewriter" position="200,676" size="100,100">&lt;&lt;BeginDialogue &quot;test&quot;&gt;&gt;
&lt;&lt;proceed&gt;&gt;</tw-passagedata><tw-passagedata pid="53" name="test" tags="" position="348,668" size="100,100">&gt;CHUCK
Hey! Wanna learn how to do dialogue bubbles in Twine!?

&gt;MORGAN
Yeah, but that sounds difficult!

&gt;CHUCK
Nah! You can do it!

&gt;CHUCK
I&#39;ll show you!</tw-passagedata></tw-storydata>

<tw-storydata name="Disaster Dorm Solitaire" startnode="2" creator="Twine" creator-version="2.3.5" ifid="6B50D39A-1F13-440E-9515-67E3717C42D8" zoom="1" format="SugarCube" format-version="2.30.0" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">.game-ui {
  display: grid;
  grid-template-columns: 0.5fr 2fr 0.5fr;
  grid-template-rows: 1fr;
  grid-template-areas: "timer Title energy";
}

.timer { grid-area: timer; }

.energy { 
  grid-area: energy;
  text-align: right;
  vertical-align: top;
}

.Title {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: 0.3fr 1.7fr;
  grid-template-areas: "flavor" "score";
  grid-area: Title;
}

.score {
  display: grid;
  grid-template-columns: 1.4fr 0.6fr 0.6fr 1.4fr;
  grid-column-gap: 1em;
  grid-template-rows: 1fr;
  grid-template-areas: "black-points black red red-points";
  grid-area: score;
}

.black-points { 
  grid-area: black-points; 
  text-align: right;
}

.red-points { 
  grid-area: red-points;
  
}

.red-points img{
	width: 32px;
  	display: inline;
}

.black-points img{
  width: 32px;
  display: inline;
}

.black { 
  grid-area: black;
  text-align: right;

}

.black img{
	width: 64px;
}

.red img{
	width: 64px;
}

.red { 
  grid-area: red; 
  text-align: left;
}

.flavor {
  display: grid;
  grid-template-columns: 1.4fr 0.6fr 0.6fr 1.4fr;
  grid-column-gap: 1em;
  grid-template-rows: 1fr;
  grid-template-areas: ". black-label red-label .";
  grid-area: flavor;
}

.black-label { grid-area: black-label; text-align: right;}

.red-label { grid-area: red-label; text-align: left;}</style><script role="script" id="twine-user-script" type="text/twine-javascript">// constant variables
const deck_size = 16

//mutable variables
State.variables.game_state = {"card":0,"red_points":0,"black_points":0,"die":6};
	
//{"card":0, "red_points":0, "black_points":0, "die":6};

//create the deck of cards
State.variables.deck = [...Array(deck_size)].map(function(val,ind,arr){
	if(ind % 2 == 0){
		return "black";
	}
	else{
		return "red";
	}
});

State.variables.shuffled_deck = State.variables.deck.sort(() => Math.random() - 0.5)

window.ReturnCardColor = function(x,y){
	return x[y]
}

window.Increment = function (x){
	if (x < deck_size - 1){
		return x + 1
	} else{
		return x
	}
}

console.log(State.variables.shuffled_deck);
console.log(ReturnCardColor(State.variables.shuffled_deck,5))

</script><tw-passagedata pid="1" name="Card Game" tags="nobr" position="509,118" size="100,100">&lt;&lt;if ReturnCardColor($shuffled_deck,$game_state.card) == &quot;black&quot;&gt;&gt;
	&lt;&lt;link &quot;IGNORE&quot; &quot;GAME UI&quot;&gt;&gt;
		&lt;&lt;set $game_state.card = $game_state.card + 1&gt;&gt;
		&lt;&lt;set $game_state.black_points = $game_state.black_points + 1&gt;&gt;
	&lt;&lt;/link&gt;&gt;
	
	&lt;br&gt;
	
	&lt;&lt;if $game_state.die &gt;= 3&gt;&gt;
		&lt;&lt;link &quot;(PAY 3 ENERGY): DISCARD BLACK CARD&quot; &quot;GAME UI&quot;&gt;&gt;
			&lt;&lt;set $game_state.die = $game_state.die - 3&gt;&gt;
			&lt;&lt;set $game_state.card = $game_state.card + 1&gt;&gt;
		&lt;&lt;/link&gt;&gt;
	&lt;&lt;/if&gt;&gt;&lt;br&gt;
	
	&lt;&lt;if $game_state.red_points &gt; 0 &amp;&amp; $game_state.die &gt; 0&gt;&gt;
		&lt;&lt;link &quot;(PAY 1 ENERGY &amp; 1 RED POINT): DISCARD BLACK CARD&quot; &quot;GAME UI&quot;&gt;&gt;
			&lt;&lt;set $game_state.red_points = $game_state.red_points - 1&gt;&gt;
			&lt;&lt;set $game_state.die = $game_state.die - 1&gt;&gt;
			&lt;&lt;set $game_state.card = $game_state.card + 1&gt;&gt;
		&lt;&lt;/link&gt;&gt;
	&lt;&lt;/if&gt;&gt;&lt;br&gt;
	
&lt;&lt;/if&gt;&gt;&lt;br&gt;


&lt;&lt;if ReturnCardColor($shuffled_deck,$game_state.card) == &quot;red&quot;&gt;&gt;
	&lt;&lt;link &quot;REST&quot; &quot;GAME UI&quot;&gt;&gt;
		&lt;&lt;set $game_state.card = $game_state.card + 1&gt;&gt;
		&lt;&lt;set $game_state.die = random(1,6)&gt;&gt;
	&lt;&lt;/link&gt;&gt;&lt;br&gt;
	
	&lt;&lt;if $game_state.die &gt;= 3&gt;&gt;
		&lt;&lt;link &quot;(PAY 3 ENERGY): EARN RED POINT&quot; &quot;GAME UI&quot;&gt;&gt;
			&lt;&lt;set $game_state.die = $game_state.die - 3&gt;&gt;
			&lt;&lt;set $game_state.red_points = $game_state.red_points + 1&gt;&gt;
			&lt;&lt;set $game_state.card = $game_state.card + 1&gt;&gt;
		&lt;&lt;/link&gt;&gt;	
	&lt;&lt;/if&gt;&gt;&lt;br&gt;
	
	&lt;&lt;if $game_state.black_points &gt; 0 &amp;&amp; $game_state.black_points &gt; 0&gt;&gt;
		&lt;&lt;link &quot;REMOVE BLACK POINT &amp; EARN 1 ENERGY&quot; &quot;GAME UI&quot;&gt;&gt;
			&lt;&lt;set $game_state.black_points = $game_state.black_points - 1&gt;&gt;
			&lt;&lt;set $game_state.die = $game_state.die + 1&gt;&gt;
			&lt;&lt;set $game_state.card = $game_state.card + 1&gt;&gt;
		&lt;&lt;/link&gt;&gt;&lt;br&gt;
	&lt;&lt;/if&gt;&gt;
&lt;&lt;/if&gt;&gt;&lt;br&gt;

&lt;h1&gt; &lt;&lt;print ReturnCardColor($shuffled_deck,$game_state.card)&gt;&gt; &lt;/h1&gt;
			</tw-passagedata><tw-passagedata pid="2" name="Beginning" tags="nobr" position="349,125" size="100,100">&lt;div class=&quot;grid-container&quot;&gt;
  &lt;div class=&quot;game-board&quot;&gt;
    &lt;div class=&quot;score&quot;&gt;
      &lt;div class=&quot;bad&quot;&gt;&lt;img src=&quot;https://i.redd.it/8ucb5gnx7x511.png&quot;&gt;&lt;/div&gt;
      &lt;div class=&quot;good&quot;&gt;&lt;img src=&quot;https://i.etsystatic.com/13454545/r/il/b8cf16/1812142361/il_570xN.1812142361_phwg.jpg&quot;&gt;&lt;/div&gt;
	  
      &lt;div class=&quot;good-counter&quot;&gt;
	  	&lt;&lt;for _i to 0; _i lt 3; _i++&gt;&gt;
			&lt;img class=&quot;inline-img&quot; src=&quot;https://i.etsystatic.com/13454545/r/il/b8cf16/1812142361/il_570xN.1812142361_phwg.jpg&quot;&gt;
		&lt;&lt;/for&gt;&gt;
	  &lt;/div&gt;
	  
      &lt;div class=&quot;bad-counter&quot;&gt;
	  	&lt;&lt;for _i to 0; _i lt 3; _i++&gt;&gt;
			&lt;img class=&quot;inline-img&quot; src=&quot;https://i.redd.it/8ucb5gnx7x511.png&quot;&gt;
		&lt;&lt;/for&gt;&gt;
	  &lt;/div&gt;
	  
    &lt;/div&gt;
    &lt;div class=&quot;game&quot;&gt;
      &lt;div class=&quot;card&quot;&gt;
	  	
	  &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  
  &lt;div class=&quot;UI&quot;&gt;
  	&lt;&lt;print &quot;CARD NUMBER: $game_state.card &quot;&gt;&gt;&lt;br&gt;
	
    &lt;div class=&quot;Energy&quot;&gt;
		&lt;&lt;print &quot;ENERGY: &quot; + $game_state.die&gt;&gt;&lt;br&gt;
	&lt;/div&gt;
	
  &lt;/div&gt;
  
&lt;/div&gt;</tw-passagedata><tw-passagedata pid="3" name="GAME UI" tags="" position="865,113.5" size="100,100">&lt;div class=&quot;game-ui&quot;&gt;

  &lt;div class=&quot;timer&quot;&gt;
    &lt;&lt;print &quot;TIME LEFT: &quot;&gt;&gt;
	&lt;&lt;print  ($deck.length - $game_state.card)&gt;&gt;
  &lt;/div&gt;
  
  &lt;div class=&quot;energy&quot;&gt;
  	&lt;&lt;print &quot;ENERGY: &quot;&gt;&gt;
	&lt;&lt;print $game_state.die&gt;&gt;
  &lt;/div&gt;
  
  &lt;div class=&quot;Title&quot;&gt;
  	&lt;div class=&quot;flavor&quot;&gt;
      &lt;div class=&quot;black-label&quot;&gt;STRESSERS&lt;/div&gt;
      &lt;div class=&quot;red-label&quot;&gt;FRIENDSHIP&lt;/div&gt;
    &lt;/div&gt;
  	
    &lt;div class=&quot;score&quot;&gt;
	
      &lt;div class=&quot;black-points&quot;&gt;
	  	&lt;&lt;nobr&gt;&gt;&lt;&lt;display &quot;BLACK POINTS&quot;&gt;&gt;&lt;&lt;/nobr&gt;&gt;
	  &lt;/div&gt;
	  
      &lt;div class=&quot;red-points&quot;&gt;
	  	&lt;&lt;nobr&gt;&gt;&lt;&lt;display &quot;RED POINTS&quot;&gt;&gt;&lt;&lt;/nobr&gt;&gt;
	  &lt;/div&gt;
	  
      &lt;div class=&quot;black&quot;&gt;
	  	&lt;img src=&quot;https://i.redd.it/8ucb5gnx7x511.png&quot;&gt;
	  &lt;/div&gt;
	  
      &lt;div class=&quot;red&quot;&gt;
	  	&lt;img src=&quot;https://library.kissclipart.com/20190227/iyq/kissclipart-pixel-transparent-heart-clipart-pixel-art-f0a20b7907e71e25.png&quot;&gt;
	  &lt;/div&gt;
	  
    &lt;/div&gt;
	
  &lt;/div&gt;
&lt;/div&gt;

&lt;&lt;display &quot;Card Game&quot;&gt;&gt;</tw-passagedata><tw-passagedata pid="4" name="BLACK POINTS" tags="nobr" position="1075,113.5" size="100,100">&lt;&lt;for _i to 0; _i lt $game_state.black_points; _i++&gt;&gt;
	&lt;img class=&quot;inline-img&quot; src=&quot;https://i.redd.it/8ucb5gnx7x511.png&quot;&gt;
&lt;&lt;/for&gt;&gt;</tw-passagedata><tw-passagedata pid="5" name="RED POINTS" tags="nobr" position="1241,118.5" size="100,100">&lt;&lt;for _i to 0; _i lt $game_state.red_points; _i++&gt;&gt;
	&lt;img class=&quot;inline-img&quot; src=&quot;https://i.etsystatic.com/13454545/r/il/b8cf16/1812142361/il_570xN.1812142361_phwg.jpg&quot;&gt;
&lt;&lt;/for&gt;&gt;</tw-passagedata></tw-storydata>

<tw-storydata name="goofspiel" startnode="1" creator="Twine" creator-version="2.3.5" ifid="A2FBEB62-880D-4BA3-99EA-69E032B2B8A7" zoom="1" format="SugarCube" format-version="2.30.0" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript">const ROUNDS = 16;

//mutable variables
State.variables.player_points = 0;
State.variables.computer_points = 0;
State.variables.deck = null;
State.variables.player_deck = null;
State.variables.opponent_deck = null;


//pure functions
window.CreateDeck = function (){
	return [...Array(ROUNDS)].map(function(value,index,arr){
	return (index + 1)
});
}

window.Shuffle = function(x){
	x.sort(() => Math.random() - 0.5)
	return x
}

window.FindCard = function(x,y){
	return x.filter(function(value,index,arr){
		return value == y;
	});
}

window.MoveToFront = function(x,y){
	let z = FindCard(x,y).concat(RemoveCard(x,y))
	return z
}

window.RemoveFront = function(x){
	return x.filter(function(value,index,arr){
		return index != 0;
	});
}


//dirty functions
window.NewGame = function(){
	State.variables.deck = Shuffle(CreateDeck());
	State.variables.player_deck = Shuffle(CreateDeck());
	State.variables.opponent_deck = Shuffle(CreateDeck());
}

window.DistributePoints = function(player,comp,score){
	if(player[0] > comp[0]){
		State.variables.player_points += score[0];
	}
	else if(player[0] < comp[0]){ 
		State.variables.computer_points += score[0];
	}
	else {
		console.log("tie")
		return
	}
}

window.EndRound = function(player,comp,score){
	DistributePoints(player,comp,score);
	State.variables.deck = RemoveFront(State.variables.deck)
	State.variables.player_deck = RemoveFront(State.variables.player_deck)
	State.variables.opponent_deck = RemoveFront(State.variables.opponent_deck);
	
	PrintResults();
}

window.PrintResults = function(){
	console.log(State.variables.opponent_deck)
	console.log(State.variables.deck)
	console.log(State.variables.player_deck)
	console.log("----------------")
}

//Run Game
NewGame();
PrintResults();
</script><tw-passagedata pid="1" name="Start" tags="" position="864,398.5" size="100,100">&lt;&lt;print &quot;PLAYER: &quot; + $player_points&gt;&gt;
&lt;&lt;print &quot;COMPUTER: &quot; + $computer_points&gt;&gt;

&lt;&lt;link &quot;CLICK ME&quot; &quot;Start&quot;&gt;&gt;&lt;&lt;script&gt;&gt;EndRound(State.variables.player_deck, State.variables.opponent_deck, State.variables.deck)&lt;&lt;/script&gt;&gt;&lt;&lt;/link&gt;&gt;</tw-passagedata></tw-storydata>

